import{_ as k,u as P,r as R,a as z,c as C,o as U,b as e,w as s,d as t,e as q,g as u,h as i,i as h,m as B,l as c,j as F,k as f}from"./index-DHBJJX_3.js";const N={class:"register-container"},A={class:"footer"},E={__name:"Register",setup(I){const w=q(),g=P(),m=R(null),o=z({username:"",email:"",password:"",confirmPassword:""}),V={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在3-20个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(p,r,l)=>{r!==o.password?l(new Error("两次输入的密码不一致")):l()},trigger:"blur"}]},_=async()=>{m.value&&await m.value.validate(async p=>{if(p){const{username:r,email:l,password:n}=o;await g.registerAction({username:r,email:l,password:n})&&w.push("/login")}})};return(p,r)=>{const l=t("el-icon"),n=t("el-input"),d=t("el-form-item"),b=t("el-button"),v=t("el-form"),y=t("router-link"),x=t("el-card");return U(),C("div",N,[e(x,{class:"register-card"},{header:s(()=>[...r[4]||(r[4]=[u("div",{class:"card-header"},[u("h2",null,"创建账户"),u("p",null,"开始使用 AI 聊天助手")],-1)])]),default:s(()=>[e(v,{ref_key:"registerFormRef",ref:m,model:o,rules:V,"label-width":"0"},{default:s(()=>[e(d,{prop:"username"},{default:s(()=>[e(n,{modelValue:o.username,"onUpdate:modelValue":r[0]||(r[0]=a=>o.username=a),placeholder:"用户名",size:"large"},{prefix:s(()=>[e(l,null,{default:s(()=>[e(i(h))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(d,{prop:"email"},{default:s(()=>[e(n,{modelValue:o.email,"onUpdate:modelValue":r[1]||(r[1]=a=>o.email=a),placeholder:"邮箱",size:"large"},{prefix:s(()=>[e(l,null,{default:s(()=>[e(i(B))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(d,{prop:"password"},{default:s(()=>[e(n,{modelValue:o.password,"onUpdate:modelValue":r[2]||(r[2]=a=>o.password=a),type:"password",placeholder:"密码",size:"large","show-password":""},{prefix:s(()=>[e(l,null,{default:s(()=>[e(i(c))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(d,{prop:"confirmPassword"},{default:s(()=>[e(n,{modelValue:o.confirmPassword,"onUpdate:modelValue":r[3]||(r[3]=a=>o.confirmPassword=a),type:"password",placeholder:"确认密码",size:"large","show-password":"",onKeyup:F(_,["enter"])},{prefix:s(()=>[e(l,null,{default:s(()=>[e(i(c))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(d,null,{default:s(()=>[e(b,{type:"primary",size:"large",loading:i(g).loading,onClick:_,style:{width:"100%"}},{default:s(()=>[...r[5]||(r[5]=[f(" 注册 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),u("div",A,[r[7]||(r[7]=f(" 已有账户？ ",-1)),e(y,{to:"/login"},{default:s(()=>[...r[6]||(r[6]=[f("立即登录",-1)])]),_:1})])]),_:1})])}}},j=k(E,[["__scopeId","data-v-38abe812"]]);export{j as default};
