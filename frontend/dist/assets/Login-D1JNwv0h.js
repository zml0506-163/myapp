import{_ as x,u as h,r as R,a as q,c as z,o as B,b as o,w as s,d as t,e as C,f as F,g as n,h as i,i as L,j as N,l as U,k as c}from"./index-DHBJJX_3.js";const K={class:"login-container"},S={class:"footer"},j={__name:"Login",setup(A){const g=C(),w=F(),p=h(),a=R(null),r=q({username:"",password:""}),y={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少6位",trigger:"blur"}]},_=async()=>{a.value&&await a.value.validate(async m=>{if(m&&await p.loginAction(r)){const l=w.query.redirect||"/";g.push(l)}})};return(m,e)=>{const l=t("el-icon"),f=t("el-input"),u=t("el-form-item"),b=t("el-button"),v=t("el-form"),V=t("router-link"),k=t("el-card");return B(),z("div",K,[o(k,{class:"login-card"},{header:s(()=>[...e[2]||(e[2]=[n("div",{class:"card-header"},[n("h2",null,"PubMed & 多来源检索"),n("p",null,"登录到您的账户")],-1)])]),default:s(()=>[o(v,{ref_key:"loginFormRef",ref:a,model:r,rules:y,"label-width":"0"},{default:s(()=>[o(u,{prop:"username"},{default:s(()=>[o(f,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=d=>r.username=d),placeholder:"用户名",size:"large"},{prefix:s(()=>[o(l,null,{default:s(()=>[o(i(L))]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(u,{prop:"password"},{default:s(()=>[o(f,{modelValue:r.password,"onUpdate:modelValue":e[1]||(e[1]=d=>r.password=d),type:"password",placeholder:"密码",size:"large","show-password":"",onKeyup:N(_,["enter"])},{prefix:s(()=>[o(l,null,{default:s(()=>[o(i(U))]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(u,null,{default:s(()=>[o(b,{type:"primary",size:"large",loading:i(p).loading,onClick:_,style:{width:"100%"}},{default:s(()=>[...e[3]||(e[3]=[c(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),n("div",S,[e[5]||(e[5]=c(" 还没有账户？ ",-1)),o(V,{to:"/register"},{default:s(()=>[...e[4]||(e[4]=[c("立即注册",-1)])]),_:1})])]),_:1})])}}},I=x(j,[["__scopeId","data-v-1b6efcf0"]]);export{I as default};
