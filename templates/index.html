<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>PubMed PDF Collector</title>
</head>
<body style="font-family: system-ui; max-width: 720px; margin: 40px auto;">
<h1>PubMed PDF Collector</h1>
<form onsubmit="run(event)">
    <input id="q" placeholder="关键词，如 cancer AND immunotherapy" style="width:70%;padding:8px"/>
    <input id="limit" type="number" value="20" min="1" max="200" style="width:100px;padding:8px"/>
    <button>Search & Download</button>
</form>
<pre id="out"></pre>
<script>
    async function run(e){
        e.preventDefault();
        const q = document.getElementById('q').value.trim();
        const limit = document.getElementById('limit').value;
        const res = await fetch(`/api/search?q=${encodeURIComponent(q)}&limit=${limit}`);
        const data = await res.json();
        document.getElementById('out').textContent = JSON.stringify(data, null, 2);
    }
</script>
</body>
</html>
